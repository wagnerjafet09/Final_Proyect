{% extends 'auth/base.html' %}

{% block title %}Login{% endblock %}


{% block customCSS %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">



{% endblock %}

{% block body %}

<div class="container-fluid">
    <div class="row">
        <!-- Columna central con el formulario de inicio de sesión -->
        <div class="col-md-12">
            <form class="form-signin text-center" action="/user/login" method="POST">
                <br>
                <!-- <img class="mb-4" src="https://getbootstrap.com/docs/4.0/assets/brand/bootstrap-solid.svg" alt="" width="70" height="70"> -->
                <img class="mb-4" src='{{ url_for("user.static", filename="img/library.png") }}'  alt="Library Image" width="90" height="90">


                <!-- Este apartado es para los mensajes de error que lanzan desde la api con el metodo flask -->
                {% with messages = get_flashed_messages() %}

                {% if messages %}
                <br />
                {% for message in messages %}
                <div class="alert alert-primary alert-dismissible fade show" role="alert">
                    <strong>{{ message }}</strong>
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                {% endfor %}
                {% endif %}

                {% endwith %}


                <h1 class="h3 mb-3 font-weight-normal">Iniciar sesion</h1>



                

                <!-- esto es para la proteccion de cross-site request forgery -->
                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">









                <label for="txtUser" class="sr-only">Usuario</label>
                <input type="user" id="txtUser" name="txtUser" class="form-control" placeholder="Usuario" required autofocus maxlength="15">
                <br>
                <label for="txtPassword" class="sr-only">Contraseña</label>
                <input type="password" id="txtPassword" name="txtPassword" class="form-control" placeholder="Contraseña" required maxlength="8">
                
                <button class="btn btn-lg btn-primary btn-block" type="submit">Acceder</button>
                <br>

                <div class="checkbox mb-3">
                    <label style="color: rgb(64, 64, 64);">
                        <!-- <input type="" value="Crear cuenta"> Crear cuenta -->
                        No tienes cuenta: <a href="/user/signin">Crear cuenta</a>
                    </label>
                </div>
                <br>
                <br>
                
                
                
                <p class="mt-6 mb-3 text-muted">&copy; 2023-2024</p>


            </form>
        </div>

    </div>
</div>

{% endblock %}